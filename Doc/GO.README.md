# GO

## CLI Arguments

Verify golang installation and version:

```
root@c6dcd5d8092c:/go/src/app/01# go version
go version go1.8.7 linux/amd64
```

Compile and run a golang problem (Compiling a go program creates a permanent 
executable file, and compile and run creates a temporary executable file):

```
Compile:
root@c6dcd5d8092c:/go/src/app/01# go build 01__01_hello-world.go

Run:
root@c6dcd5d8092c:/go/src/app/01# ./01__01_hello-world.go
Hello, World!

Compile and Run:
root@c6dcd5d8092c:/go/src/app/01# go run 01__01_hello-world.go
Hello, World!
```

Built-in golang test

```
go test .
```

Golang documentation tool.  Outputs to http://localhost:6001

```
root@c6dcd5d8092c:/go/src/app/01# godoc -http=":6001"
2018/12/31 19:14:49 lstat /usr/local/go/apple-touch-icon-precomposed.png: no such file or directory
2018/12/31 19:14:49 lstat /usr/local/go/apple-touch-icon.png: no such file or directory
```

Downloading and compiling go packages

```
Download:
root@2ff69b7b88d7:/go/src/app# go get -v github.com/mactsouk/go/simpleGitHub
github.com/mactsouk/go (download)
github.com/mactsouk/go/simpleGitHub

Source Code:
root@2ff69b7b88d7:/go/src/app# ls -l /go/src/github.com/mactsouk/go/simpleGitHub/
total 4
-rw-r--r-- 1 root root 66 Mar 26 14:18 simpleGitHub.go

Compiled Code:
root@2ff69b7b88d7:/go/src/app# ls -l /go/pkg/linux_amd64/github.com/mactsouk/go/simpleGitHub.a 
-rw-r--r-- 1 root root 1122 Mar 26 14:18 /go/pkg/linux_amd64/github.com/mactsouk/go/simpleGitHub.a

Remove Intermediate Packages:
root@2ff69b7b88d7:/go/src/app# go clean -i -v -x /go/src/github.com/mactsouk/go/simpleGitHub/
cd /go/src/github.com/mactsouk/go/simpleGitHub
rm -f simpleGitHub.test simpleGitHub.test.exe
rm -f /go/pkg/linux_amd64/github.com/mactsouk/go/simpleGitHub.a
```

##Go Tool

The go compiler uses the **go tool**.  Compiling go code with the go tool creates an **object code** file.  This file contains machine code that is relocatable.

```
root@9c02dd64abe9:/go/src/app/master/01/01.1# go tool compile 01__01-printing.go 
root@9c02dd64abe9:/go/src/app/master/01/01.1# ls
01__01-printing.go  01__01-printing.o
root@9c02dd64abe9:/go/src/app/master/01/01.1# ls -l 01__01-printing.o
-rw-r--r-- 1 root root 11928 Apr  3 13:12 01__01-printing.o
```

Using go tool compile with -pack option creates an archive file.  **Archive files** are binary files that is used for grouping multiple files in a single file.

```
root@9c02dd64abe9:/go/src/app/master/01/01.1# go tool compile -pack 01__01-printing.go 
root@9c02dd64abe9:/go/src/app/master/01/01.1# ls -l 01__01-printing.a
-rw-r--r-- 1 root root 11928 Apr  3 13:16 01__01-printing.a
root@9c02dd64abe9:/go/src/app/master/01/01.1# ar t 01__01-printing.a
__.PKGDEF
_go_.o
```

Using go tool compile with -race option detects race conditions in concurrency.

```
root@9c02dd64abe9:/go/src/app/master/01/01.1# go tool compile -race 01__01-printing.go 
````

Using go tool compile with -S option creates assembly code (Below output has been reduced because of size...).

```
root@9c02dd64abe9:/go/src/app/master/01/01.1# go tool compile -S 01__01-printing.go 
os.(*File).close STEXT dupok nosplit size=26 args=0x18 locals=0x0
        0x0000 00000 (<autogenerated>:1)        TEXT    os.(*File).close(SB), DUPOK|NOSPLIT|ABIInternal, $0-24
        0x0000 00000 (<autogenerated>:1)        FUNCDATA        $0, gclocals·e6397a44f8e1b6e77d0f200b4fba5269(SB)
        0x0000 00000 (<autogenerated>:1)        FUNCDATA        $1, gclocals·69c1753bd5f81501d95132d08af04464(SB)
...
```

##GODEBUG

GODEBUG can give analtical information on Garbage collection.  Use the following command to activate:

```
GODEBUG=gctrace=1 go run 02__01-garbage-collection.go 
```